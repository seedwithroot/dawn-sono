<div class="three_column-section page-width">
  {% if section.settings.logo_icon %}
  <div class="icon-logo"><img src="{{ section.settings.logo_icon | img_url: "master" }}"></div>
  {% else %}
  <div class="icon-logo">{{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}</div>
  {% endif %}
  {% if section.settings.title %}
  <h1 class="section_title">{{ section.settings.title }}</h1>
  {% endif %}
  {% if section.settings.btn_title %}
  <div class="shop_link"><a href="{{ section.settings.btn_url }}" style="color: {{ section.settings.btn_color }};">{{ section.settings.btn_title }}<i class="arrow_right"></i></a></div>
  {% endif %}
  <div class="column-section">
    {% assign count = 0 %}
    {% for block in section.blocks %}
    {% assign count = count| plus: 1 %}
    {% if block.settings.image %}
    <div class="column-item">
      <img src="{{ block.settings.image | img_url:"master" }}">
    </div>
    {% else %}
    <div class="column-item">
      {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
    </div>
    {% endif %}
    {% endfor %}
  </div>
</div>
<style>
  .three_column-section {
    text-align: center;
    margin-top: 5rem;
    margin-bottom: 5rem;
  }
  .section_title {
    font-weight: bold;
    margin-bottom: 0;
  }
  .icon-logo {
    max-width: 50px;
    margin: 0 auto;
  }
  .shop_link {
    margin-bottom: 30px;
  }
  .shop_link a{
    text-decoration: none;
    position: relative;
  }
  .three_column-section img{
    display: block;
    width: 100%;
  }
  .column-section {
    display: flex;
    flex-wrap: wrap;
    margin-left: -15px;
    margin-right: -15px;
  }
  .column-item {
    width: 100%;
    padding: 0 15px;
  }
  .arrow_right {
	width: 10px;
    height: 10px;
    box-sizing: border-box;
    position: absolute;
    right: -12px;
    top: 7px;
    transform: rotate(45deg);
  }
  .arrow_right:before {
    content: '';
    width: 100%;
    height: 100%;
    border-width: 2px 0 0 0;
    border-style: solid;
    border-color: {{ section.settings.btn_color }};
    transition: .2s ease;
    display: block;
    transform-origin: 100% 0;
  }
  .arrow_right:after {
    content: '';
    float: left;
    position: relative;
    top: -100%;
    width: 100%;
    height: 100%;
    border-width: 0 2px 0 0;
    border-style: solid;
    border-color: {{ section.settings.btn_color }};
    transform-origin: 100% 0;
    transition:.2s ease;
  }
  {% if count == 2 %}
  .column-item {
    width: 50%;
  }
  {% elsif count == 3 %}
  .column-item {
    width: 33.333%;
  }
  @media(max-width: 767px){
    .column-item {
      width: 100%;
      padding: 10px;
    }
    .column-section {
      margin-left: -10px;
      margin-right: -10px;
    }
  }
  {% endif %}
</style>
{% schema %}
  {
    "name": "Three Column",
    "settings": [
		{
			"type": "image_picker",
			"id": "logo_icon",
			"label": "Logo Icon"
		},
		{
			"type": "text",
			"id": "title",
			"label": "Title"
		},
		{
			"type": "text",
			"id": "btn_title",
			"label": "Button Title",
			"default": "Shop"
		},
		{
			"type": "url",
			"id": "btn_url",
			"label": "Button URL"
		},
		{
			"type": "color",
			"id": "btn_color",
			"label": "Button Color"
		}
	],
	"blocks": [
		{
			"type": "grid_item",
            "name": "Image Block",
            "limit": 3,
			"settings": [
				{
					"type": "image_picker",
					"id": "image",
					"label": "Image"
				}
			]
		}
	],
	"presets": [
		{
			"name": "Three Column",
			"blocks": [
              {
                "type": "grid_item"
              },
              {
                "type": "grid_item"
              },
              {
                "type": "grid_item"
              }
            ]
		}
	]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
